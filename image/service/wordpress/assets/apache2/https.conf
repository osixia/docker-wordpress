<VirtualHost _default_:443>

	ServerName ${WORDPRESS_SERVER_NAME}
	ServerAdmin ${WORDPRESS_SERVER_ADMIN}
	ServerPath ${WORDPRESS_SERVER_PATH}

	DocumentRoot /var/www/wordpress

	Include /etc/apache2/conf-available/vhost-partial-ssl.conf

	SSLCertificateFile    ${CONTAINER_SERVICE_DIR}/wordpress/assets/apache2/certs/${WORDPRESS_SSL_CRT_FILENAME}
	SSLCertificateKeyFile ${CONTAINER_SERVICE_DIR}/wordpress/assets/apache2/certs/${WORDPRESS_SSL_KEY_FILENAME}
	#SSLCACertificateFile ${CONTAINER_SERVICE_DIR}/wordpress/assets/apache2/certs/${WORDPRESS_SSL_CA_CRT_FILENAME}

	SetOutputFilter DEFLATE
 	DeflateCompressionLevel 9
	AddOutputFilterByType DEFLATE text/html application/javascript text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/vnd.ms-fontobject application/x-font-ttf font/opentype image/svg+xml image/x-icon
	Header append Vary User-Agent env=!dont-vary

	<Filesmatch "\.(ico|css|js|gif|jpg|jpeg|png|svg|eot|ttf|woff|woff2)$">
    ExpiresActive on
    ExpiresDefault "access plus 30 days"
	</Filesmatch>

	<Directory /var/www/wordpress >
		Options FollowSymLinks
		AllowOverride FileInfo
		Require all granted
	</Directory>

	<files wp-config.php>
		Require all denied
	</files>

	<files readme.html>
		Require all denied
	</files>

	#disablexmlrpc<files xmlrpc.php>
	#disablexmlrpc  Require all denied
	#disablexmlrpc</files>

</VirtualHost>
